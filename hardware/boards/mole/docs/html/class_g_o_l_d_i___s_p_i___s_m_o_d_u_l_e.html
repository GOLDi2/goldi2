<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>GOLDi - Mobile Control Unit (MOLE): GOLDI_SPI_SMODULE Entity Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="download.png"/></td>
  <td id="projectalign">
   <div id="projectname">GOLDi - Mobile Control Unit (MOLE)
   </div>
   <div id="projectbrief">GOLDi FPGA Source Code</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('class_g_o_l_d_i___s_p_i___s_m_o_d_u_l_e.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#Libraries">Libraries</a> &#124;
<a href="#Ports">Ports</a> &#124;
<a href="#Use_20Clauses">Use Clauses</a>  </div>
  <div class="headertitle"><div class="title">GOLDI_SPI_SMODULE Entity Reference</div></div>
</div><!--header-->
<div class="contents">

<p>SPI to custom GOLDi BUS protocol.  
 <a href="class_g_o_l_d_i___s_p_i___s_m_o_d_u_l_e.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for GOLDI_SPI_SMODULE:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_g_o_l_d_i___s_p_i___s_m_o_d_u_l_e.png" usemap="#GOLDI_5FSPI_5FSMODULE_map" alt=""/>
  <map id="GOLDI_5FSPI_5FSMODULE_map" name="GOLDI_5FSPI_5FSMODULE_map">
<area href="class_s_p___c_o_n_v_e_r_t_e_r.html" title="SPI slave Serial/Parallel converter for the custom GOLDi SPI interface." alt="SP_CONVERTER" shape="rect" coords="0,0,144,24"/>
<area href="class_b_u_s___a_d_a_p_t_o_r.html" title="Custom BUS Master interface." alt="BUS_ADAPTOR" shape="rect" coords="154,0,298,24"/>
<area href="class_t_o_p___l_e_v_e_l.html" title="Top Level of FPGA system for the Mobile Control Unit [MOLE]." alt="TOP_LEVEL" shape="rect" coords="77,112,221,136"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Entities</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_g_o_l_d_i___s_p_i___s_m_o_d_u_l_e_1_1_r_t_l.html">RTL</a> &#160;</td><td class="memItemRight" valign="bottom">architecture</td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">General architecture.  <a href="class_g_o_l_d_i___s_p_i___s_m_o_d_u_l_e_1_1_r_t_l.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="Libraries" name="Libraries"></a>
Libraries</h2></td></tr>
 <tr class="memitem:ae4f03c286607f3181e16b9aa12d0c6d4"><td class="memItemLeft" align="right" valign="top"><a id="ae4f03c286607f3181e16b9aa12d0c6d4" name="ae4f03c286607f3181e16b9aa12d0c6d4"></a>
<a class="el" href="class_g_o_l_d_i___s_p_i___s_m_o_d_u_l_e.html#ae4f03c286607f3181e16b9aa12d0c6d4">IEEE</a>&#160;</td><td class="memItemRight" valign="bottom"></td></tr>
<tr class="memdesc:ae4f03c286607f3181e16b9aa12d0c6d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Standard library. <br /></td></tr>
<tr class="memitem:a9f49de6f5eed5b4488cba6c9cdd1c215"><td class="memItemLeft" align="right" valign="top"><a id="a9f49de6f5eed5b4488cba6c9cdd1c215" name="a9f49de6f5eed5b4488cba6c9cdd1c215"></a>
<a class="el" href="class_g_o_l_d_i___s_p_i___s_m_o_d_u_l_e.html#a9f49de6f5eed5b4488cba6c9cdd1c215">work</a>&#160;</td><td class="memItemRight" valign="bottom"></td></tr>
<tr class="memdesc:a9f49de6f5eed5b4488cba6c9cdd1c215"><td class="mdescLeft">&#160;</td><td class="mdescRight">Custom packages. <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="Use_20Clauses" name="Use_20Clauses"></a>
Use Clauses</h2></td></tr>
 <tr class="memitem:acd03516902501cd1c7296a98e22c6fcb"><td class="memItemLeft" align="right" valign="top"><a id="acd03516902501cd1c7296a98e22c6fcb" name="acd03516902501cd1c7296a98e22c6fcb"></a>
<a class="el" href="class_g_o_l_d_i___s_p_i___s_m_o_d_u_l_e.html#acd03516902501cd1c7296a98e22c6fcb">std_logic_1164</a>&#160;</td><td class="memItemRight" valign="bottom">  </td></tr>
<tr class="memitem:a2edc34402b573437d5f25fa90ba4013e"><td class="memItemLeft" align="right" valign="top"><a id="a2edc34402b573437d5f25fa90ba4013e" name="a2edc34402b573437d5f25fa90ba4013e"></a>
<a class="el" href="class_g_o_l_d_i___s_p_i___s_m_o_d_u_l_e.html#a2edc34402b573437d5f25fa90ba4013e">numeric_std</a>&#160;</td><td class="memItemRight" valign="bottom">  </td></tr>
<tr class="memitem:a29e6089eadd56c810ed367a26aa0bc0f"><td class="memItemLeft" align="right" valign="top"><a id="a29e6089eadd56c810ed367a26aa0bc0f" name="a29e6089eadd56c810ed367a26aa0bc0f"></a>
<a class="el" href="class_g_o_l_d_i___s_p_i___s_m_o_d_u_l_e.html#a29e6089eadd56c810ed367a26aa0bc0f">GOLDI_COMM_STANDARD</a>&#160;</td><td class="memItemRight" valign="bottom">   <b>Package</b><em><a class="el" href="class_g_o_l_d_i___c_o_m_m___s_t_a_n_d_a_r_d.html"> &lt;GOLDI_COMM_STANDARD&gt;</a></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="3"><h2 class="groupheader"><a id="Ports" name="Ports"></a>
Ports</h2></td></tr>
 <tr class="memitem:a50da91b765765ac486df1b41692e962f"><td class="memItemLeft" align="right" valign="top"><a id="a50da91b765765ac486df1b41692e962f" name="a50da91b765765ac486df1b41692e962f"></a>
<a class="el" href="class_g_o_l_d_i___s_p_i___s_m_o_d_u_l_e.html#a50da91b765765ac486df1b41692e962f">clk</a> &#160;</td><td class="memItemLeft" align="right" valign="top"> <b><b><span class="keywordflow">in</span><span class="vhdlchar"> </span></b></b>&#160;</td><td class="memItemRight" valign="bottom"> <b><span class="keywordtype">std_logic</span><span class="vhdlchar"> </span></b></td></tr>
<tr class="memdesc:a50da91b765765ac486df1b41692e962f"><td class="mdescLeft">&#160;</td><td class="mdescLeft">&#160;</td><td class="mdescRight">System clock. <br /></td></tr>
<tr class="memitem:ae106f17a2b73445119c8eb039d3e102e"><td class="memItemLeft" align="right" valign="top"><a id="ae106f17a2b73445119c8eb039d3e102e" name="ae106f17a2b73445119c8eb039d3e102e"></a>
<a class="el" href="class_g_o_l_d_i___s_p_i___s_m_o_d_u_l_e.html#ae106f17a2b73445119c8eb039d3e102e">rst</a> &#160;</td><td class="memItemLeft" align="right" valign="top"> <b><b><span class="keywordflow">in</span><span class="vhdlchar"> </span></b></b>&#160;</td><td class="memItemRight" valign="bottom"> <b><span class="keywordtype">std_logic</span><span class="vhdlchar"> </span></b></td></tr>
<tr class="memdesc:ae106f17a2b73445119c8eb039d3e102e"><td class="mdescLeft">&#160;</td><td class="mdescLeft">&#160;</td><td class="mdescRight">Asynchronous clock. <br /></td></tr>
<tr class="memitem:a7e8cc6d205e22bcdd07ce1f38b366f46"><td class="memItemLeft" align="right" valign="top"><a id="a7e8cc6d205e22bcdd07ce1f38b366f46" name="a7e8cc6d205e22bcdd07ce1f38b366f46"></a>
<a class="el" href="class_g_o_l_d_i___s_p_i___s_m_o_d_u_l_e.html#a7e8cc6d205e22bcdd07ce1f38b366f46">p_spi_nce</a> &#160;</td><td class="memItemLeft" align="right" valign="top"> <b><b><span class="keywordflow">in</span><span class="vhdlchar"> </span></b></b>&#160;</td><td class="memItemRight" valign="bottom"> <b><span class="keywordtype">std_logic</span><span class="vhdlchar"> </span></b></td></tr>
<tr class="memdesc:a7e8cc6d205e22bcdd07ce1f38b366f46"><td class="mdescLeft">&#160;</td><td class="mdescLeft">&#160;</td><td class="mdescRight">SPI Chip enable signal - logic low. <br /></td></tr>
<tr class="memitem:a651212d8ddbe953a84fdea143c8d9ab8"><td class="memItemLeft" align="right" valign="top"><a id="a651212d8ddbe953a84fdea143c8d9ab8" name="a651212d8ddbe953a84fdea143c8d9ab8"></a>
<a class="el" href="class_g_o_l_d_i___s_p_i___s_m_o_d_u_l_e.html#a651212d8ddbe953a84fdea143c8d9ab8">p_spi_sclk</a> &#160;</td><td class="memItemLeft" align="right" valign="top"> <b><b><span class="keywordflow">in</span><span class="vhdlchar"> </span></b></b>&#160;</td><td class="memItemRight" valign="bottom"> <b><span class="keywordtype">std_logic</span><span class="vhdlchar"> </span></b></td></tr>
<tr class="memdesc:a651212d8ddbe953a84fdea143c8d9ab8"><td class="mdescLeft">&#160;</td><td class="mdescLeft">&#160;</td><td class="mdescRight">SPI Serial clock input signal. <br /></td></tr>
<tr class="memitem:a22b20f7b696f3f54a4c2e95efe77c8da"><td class="memItemLeft" align="right" valign="top"><a id="a22b20f7b696f3f54a4c2e95efe77c8da" name="a22b20f7b696f3f54a4c2e95efe77c8da"></a>
<a class="el" href="class_g_o_l_d_i___s_p_i___s_m_o_d_u_l_e.html#a22b20f7b696f3f54a4c2e95efe77c8da">p_spi_mosi</a> &#160;</td><td class="memItemLeft" align="right" valign="top"> <b><b><span class="keywordflow">in</span><span class="vhdlchar"> </span></b></b>&#160;</td><td class="memItemRight" valign="bottom"> <b><span class="keywordtype">std_logic</span><span class="vhdlchar"> </span></b></td></tr>
<tr class="memdesc:a22b20f7b696f3f54a4c2e95efe77c8da"><td class="mdescLeft">&#160;</td><td class="mdescLeft">&#160;</td><td class="mdescRight">SPI Master out / Slave in data. <br /></td></tr>
<tr class="memitem:a1fa329d1bff0186ea2fb617b95d658d5"><td class="memItemLeft" align="right" valign="top"><a id="a1fa329d1bff0186ea2fb617b95d658d5" name="a1fa329d1bff0186ea2fb617b95d658d5"></a>
<a class="el" href="class_g_o_l_d_i___s_p_i___s_m_o_d_u_l_e.html#a1fa329d1bff0186ea2fb617b95d658d5">p_spi_miso</a> &#160;</td><td class="memItemLeft" align="right" valign="top"> <b><b><span class="keywordflow">out</span><span class="vhdlchar"> </span></b></b>&#160;</td><td class="memItemRight" valign="bottom"> <b><span class="keywordtype">std_logic</span><span class="vhdlchar"> </span></b></td></tr>
<tr class="memdesc:a1fa329d1bff0186ea2fb617b95d658d5"><td class="mdescLeft">&#160;</td><td class="mdescLeft">&#160;</td><td class="mdescRight">SPI Mastter in / Slave out data. <br /></td></tr>
<tr class="memitem:a984b19d2d6e405bc3d1e2b7f8397fa82"><td class="memItemLeft" align="right" valign="top"><a id="a984b19d2d6e405bc3d1e2b7f8397fa82" name="a984b19d2d6e405bc3d1e2b7f8397fa82"></a>
<a class="el" href="class_g_o_l_d_i___s_p_i___s_m_o_d_u_l_e.html#a984b19d2d6e405bc3d1e2b7f8397fa82">p_master_bus_o</a> &#160;</td><td class="memItemLeft" align="right" valign="top"> <b><b><span class="keywordflow">out</span><span class="vhdlchar"> </span></b></b>&#160;</td><td class="memItemRight" valign="bottom"> <b><b><a class="el" href="class_g_o_l_d_i___c_o_m_m___s_t_a_n_d_a_r_d.html#a6774f633f23be883baa6bb34377fa4a8">mbus_out</a></b> <span class="vhdlchar"> </span></b></td></tr>
<tr class="memdesc:a984b19d2d6e405bc3d1e2b7f8397fa82"><td class="mdescLeft">&#160;</td><td class="mdescLeft">&#160;</td><td class="mdescRight">BUS master interface output signals [stb,we,adr,dat,tag]. <br /></td></tr>
<tr class="memitem:a7aed407364d5cbbdb1a83c5a06725a8b"><td class="memItemLeft" align="right" valign="top"><a id="a7aed407364d5cbbdb1a83c5a06725a8b" name="a7aed407364d5cbbdb1a83c5a06725a8b"></a>
<a class="el" href="class_g_o_l_d_i___s_p_i___s_m_o_d_u_l_e.html#a7aed407364d5cbbdb1a83c5a06725a8b">p_master_bus_i</a> &#160;</td><td class="memItemLeft" align="right" valign="top"> <b><b><span class="keywordflow">in</span><span class="vhdlchar"> </span></b></b>&#160;</td><td class="memItemRight" valign="bottom"> <b><b><a class="el" href="class_g_o_l_d_i___c_o_m_m___s_t_a_n_d_a_r_d.html#ab88c1e2f31b1ed5b961ae103e325e7ca">mbus_in</a></b> <span class="vhdlchar"> </span></b></td></tr>
<tr class="memdesc:a7aed407364d5cbbdb1a83c5a06725a8b"><td class="mdescLeft">&#160;</td><td class="mdescLeft">&#160;</td><td class="mdescRight">BUS master interface input signals [dat,tag,mux]. <br /></td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >SPI to custom GOLDi BUS protocol. </p>
<p >The module acts as the main SPI slave interface and the GOLDi BUS master interface. The module manages the communication between the FPGA system and the microcontoller driven control unit. The BUS protocol is defined in the <a class="el" href="class_g_o_l_d_i___c_o_m_m___s_t_a_n_d_a_r_d.html">GOLDI_COMM_STANDARD</a> package.</p>
<h3><a class="anchor" id="autotoc_md1"></a>
GOLDi BUS Protocol</h3>
<p >The SPI data consists of a configuration word and one or more data words transfered in an SPI communication cycle i.e "nCE" remains in a low state during the entier data transfer. Two default modes of communication have been implemented in the <a class="el" href="class_b_u_s___a_d_a_p_t_o_r.html" title="Custom BUS Master interface.">BUS_ADAPTOR</a> module for the transfer of multiple data words: "multi-register"-communication and "stream"-communication.</p>
<p >In multi-register mode the data is arranged following the MSBF (most-significant-bit-first) convention. The first data word is stored in the addressed register and the subsequent data words are stored in decreasing addresses. This mode simplifies the data transfer process to a sub-module with multiple registers and data formats.</p>
<p >In the "stream"-mode the data is writen only to the register addressed. This mode facilitates the transfer of large data vectors to secondary communication sub-modules</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadCenter" colspan="4">Configuration Word    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">WE   </td><td class="markdownTableBodyCenter">SE   </td><td class="markdownTableBodyCenter">TAG [BUS_TAG_BITS-1:0]   </td><td class="markdownTableBodyCenter">ADR [BUS_ADDRESS_WIDTH-1:0]   </td></tr>
</table>
<ul>
<li>WE: write enable</li>
<li>SE: stream enable</li>
<li>TAG: Tag for incomming data words</li>
<li>ADR: Address of first accessed register</li>
</ul>
<p ><em><b>Latency: 2cyc</b></em> </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_g_o_l_d_i___s_p_i___s_m_o_d_u_l_e.html">GOLDI_SPI_SMODULE</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
