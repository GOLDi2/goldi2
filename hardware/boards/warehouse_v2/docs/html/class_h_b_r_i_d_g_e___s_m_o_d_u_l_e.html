<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>GOLDi - Warehouse: HBRIDGE_SMODULE Entity Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="download.png"/></td>
  <td id="projectalign">
   <div id="projectname">GOLDi - Warehouse<span id="projectnumber">&#160;V2</span>
   </div>
   <div id="projectbrief">GOLDi FPGA Source Code</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('class_h_b_r_i_d_g_e___s_m_o_d_u_l_e.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#Generics">Generics</a> &#124;
<a href="#Libraries">Libraries</a> &#124;
<a href="#Ports">Ports</a> &#124;
<a href="#Use_20Clauses">Use Clauses</a>  </div>
  <div class="headertitle"><div class="title">HBRIDGE_SMODULE Entity Reference</div></div>
</div><!--header-->
<div class="contents">

<p>H-Bridge driver module to contorl a DC Motor.  
 <a href="class_h_b_r_i_d_g_e___s_m_o_d_u_l_e.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for HBRIDGE_SMODULE:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_h_b_r_i_d_g_e___s_m_o_d_u_l_e.png" usemap="#HBRIDGE_5FSMODULE_map" alt=""/>
  <map id="HBRIDGE_5FSMODULE_map" name="HBRIDGE_5FSMODULE_map">
<area href="class_r_e_g_i_s_t_e_r___t_a_b_l_e.html" title="Custom dual port data register set." alt="REGISTER_TABLE" shape="rect" coords="0,56,134,80"/>
<area href="class_r_e_g_i_s_t_e_r___u_n_i_t.html" title="Custom dual port single data word register." alt="REGISTER_UNIT" shape="rect" coords="0,0,134,24"/>
<area href="class_t_o_p___l_e_v_e_l.html" title="Top Level of FPGA system for GOLDI Warehouse V2." alt="TOP_LEVEL" shape="rect" coords="0,168,134,192"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Entities</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_h_b_r_i_d_g_e___s_m_o_d_u_l_e_1_1_r_t_l.html">RTL</a> &#160;</td><td class="memItemRight" valign="bottom">architecture</td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">General architecture.  <a href="class_h_b_r_i_d_g_e___s_m_o_d_u_l_e_1_1_r_t_l.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="Libraries" name="Libraries"></a>
Libraries</h2></td></tr>
 <tr class="memitem:ae4f03c286607f3181e16b9aa12d0c6d4"><td class="memItemLeft" align="right" valign="top"><a id="ae4f03c286607f3181e16b9aa12d0c6d4" name="ae4f03c286607f3181e16b9aa12d0c6d4"></a>
<a class="el" href="class_h_b_r_i_d_g_e___s_m_o_d_u_l_e.html#ae4f03c286607f3181e16b9aa12d0c6d4">IEEE</a>&#160;</td><td class="memItemRight" valign="bottom"></td></tr>
<tr class="memdesc:ae4f03c286607f3181e16b9aa12d0c6d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Standard library. <br /></td></tr>
<tr class="memitem:a9f49de6f5eed5b4488cba6c9cdd1c215"><td class="memItemLeft" align="right" valign="top"><a id="a9f49de6f5eed5b4488cba6c9cdd1c215" name="a9f49de6f5eed5b4488cba6c9cdd1c215"></a>
<a class="el" href="class_h_b_r_i_d_g_e___s_m_o_d_u_l_e.html#a9f49de6f5eed5b4488cba6c9cdd1c215">work</a>&#160;</td><td class="memItemRight" valign="bottom"></td></tr>
<tr class="memdesc:a9f49de6f5eed5b4488cba6c9cdd1c215"><td class="mdescLeft">&#160;</td><td class="mdescRight">Custom packages. <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="Use_20Clauses" name="Use_20Clauses"></a>
Use Clauses</h2></td></tr>
 <tr class="memitem:acd03516902501cd1c7296a98e22c6fcb"><td class="memItemLeft" align="right" valign="top"><a id="acd03516902501cd1c7296a98e22c6fcb" name="acd03516902501cd1c7296a98e22c6fcb"></a>
<a class="el" href="class_h_b_r_i_d_g_e___s_m_o_d_u_l_e.html#acd03516902501cd1c7296a98e22c6fcb">std_logic_1164</a>&#160;</td><td class="memItemRight" valign="bottom">  </td></tr>
<tr class="memitem:a2edc34402b573437d5f25fa90ba4013e"><td class="memItemLeft" align="right" valign="top"><a id="a2edc34402b573437d5f25fa90ba4013e" name="a2edc34402b573437d5f25fa90ba4013e"></a>
<a class="el" href="class_h_b_r_i_d_g_e___s_m_o_d_u_l_e.html#a2edc34402b573437d5f25fa90ba4013e">numeric_std</a>&#160;</td><td class="memItemRight" valign="bottom">  </td></tr>
<tr class="memitem:a29e6089eadd56c810ed367a26aa0bc0f"><td class="memItemLeft" align="right" valign="top"><a id="a29e6089eadd56c810ed367a26aa0bc0f" name="a29e6089eadd56c810ed367a26aa0bc0f"></a>
<a class="el" href="class_h_b_r_i_d_g_e___s_m_o_d_u_l_e.html#a29e6089eadd56c810ed367a26aa0bc0f">GOLDI_COMM_STANDARD</a>&#160;</td><td class="memItemRight" valign="bottom">   <b>Package</b><em><a class="el" href="class_g_o_l_d_i___c_o_m_m___s_t_a_n_d_a_r_d.html"> &lt;GOLDI_COMM_STANDARD&gt;</a></td></tr>
<tr class="memitem:af361354ad8afd6048d993827c504c9ad"><td class="memItemLeft" align="right" valign="top"><a id="af361354ad8afd6048d993827c504c9ad" name="af361354ad8afd6048d993827c504c9ad"></a>
<a class="el" href="class_h_b_r_i_d_g_e___s_m_o_d_u_l_e.html#af361354ad8afd6048d993827c504c9ad">GOLDI_IO_STANDARD</a>&#160;</td><td class="memItemRight" valign="bottom">   <b>Package</b><em><a class="el" href="class_g_o_l_d_i___i_o___s_t_a_n_d_a_r_d.html"> &lt;GOLDI_IO_STANDARD&gt;</a></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="Generics" name="Generics"></a>
Generics</h2></td></tr>
 <tr class="memitem:a49573c8e2f2c29fa7c29b897c375901b"><td class="memItemLeft" align="right" valign="top"><a id="a49573c8e2f2c29fa7c29b897c375901b" name="a49573c8e2f2c29fa7c29b897c375901b"></a>
<a class="el" href="class_h_b_r_i_d_g_e___s_m_o_d_u_l_e.html#a49573c8e2f2c29fa7c29b897c375901b">g_address</a> &#160;</td><td class="memItemRight" valign="bottom"><b><b><span class="keywordtype">natural</span><span class="vhdlchar"> </span><span class="vhdlchar">:</span><span class="vhdlchar">=</span><span class="vhdlchar"> </span><span class="vhdlchar"> </span> <span class="vhdldigit">1</span> <span class="vhdlchar"> </span></b></b></td></tr>
<tr class="memdesc:a49573c8e2f2c29fa7c29b897c375901b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Module's base address. <br /></td></tr>
<tr class="memitem:a72d6031d3e8fbb1f910116840d3b8c5a"><td class="memItemLeft" align="right" valign="top"><a id="a72d6031d3e8fbb1f910116840d3b8c5a" name="a72d6031d3e8fbb1f910116840d3b8c5a"></a>
<a class="el" href="class_h_b_r_i_d_g_e___s_m_o_d_u_l_e.html#a72d6031d3e8fbb1f910116840d3b8c5a">g_clk_factor</a> &#160;</td><td class="memItemRight" valign="bottom"><b><b><span class="keywordtype">natural</span><span class="vhdlchar"> </span><span class="vhdlchar">:</span><span class="vhdlchar">=</span><span class="vhdlchar"> </span><span class="vhdlchar"> </span> <span class="vhdldigit">10</span> <span class="vhdlchar"> </span></b></b></td></tr>
<tr class="memdesc:a72d6031d3e8fbb1f910116840d3b8c5a"><td class="mdescLeft">&#160;</td><td class="mdescRight">PWM signal frequency. <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="3"><h2 class="groupheader"><a id="Ports" name="Ports"></a>
Ports</h2></td></tr>
 <tr class="memitem:a50da91b765765ac486df1b41692e962f"><td class="memItemLeft" align="right" valign="top"><a id="a50da91b765765ac486df1b41692e962f" name="a50da91b765765ac486df1b41692e962f"></a>
<a class="el" href="class_h_b_r_i_d_g_e___s_m_o_d_u_l_e.html#a50da91b765765ac486df1b41692e962f">clk</a> &#160;</td><td class="memItemLeft" align="right" valign="top"> <b><b><span class="keywordflow">in</span><span class="vhdlchar"> </span></b></b>&#160;</td><td class="memItemRight" valign="bottom"> <b><span class="keywordtype">std_logic</span><span class="vhdlchar"> </span></b></td></tr>
<tr class="memdesc:a50da91b765765ac486df1b41692e962f"><td class="mdescLeft">&#160;</td><td class="mdescLeft">&#160;</td><td class="mdescRight">System clock. <br /></td></tr>
<tr class="memitem:ae106f17a2b73445119c8eb039d3e102e"><td class="memItemLeft" align="right" valign="top"><a id="ae106f17a2b73445119c8eb039d3e102e" name="ae106f17a2b73445119c8eb039d3e102e"></a>
<a class="el" href="class_h_b_r_i_d_g_e___s_m_o_d_u_l_e.html#ae106f17a2b73445119c8eb039d3e102e">rst</a> &#160;</td><td class="memItemLeft" align="right" valign="top"> <b><b><span class="keywordflow">in</span><span class="vhdlchar"> </span></b></b>&#160;</td><td class="memItemRight" valign="bottom"> <b><span class="keywordtype">std_logic</span><span class="vhdlchar"> </span></b></td></tr>
<tr class="memdesc:ae106f17a2b73445119c8eb039d3e102e"><td class="mdescLeft">&#160;</td><td class="mdescLeft">&#160;</td><td class="mdescRight">Asynchronous reset. <br /></td></tr>
<tr class="memitem:a4963e5c98dbc97d69eaae7e81ab50421"><td class="memItemLeft" align="right" valign="top"><a id="a4963e5c98dbc97d69eaae7e81ab50421" name="a4963e5c98dbc97d69eaae7e81ab50421"></a>
<a class="el" href="class_h_b_r_i_d_g_e___s_m_o_d_u_l_e.html#a4963e5c98dbc97d69eaae7e81ab50421">sys_bus_i</a> &#160;</td><td class="memItemLeft" align="right" valign="top"> <b><b><span class="keywordflow">in</span><span class="vhdlchar"> </span></b></b>&#160;</td><td class="memItemRight" valign="bottom"> <b><span class="vhdlchar">sbus_in</span><span class="vhdlchar"> </span></b></td></tr>
<tr class="memdesc:a4963e5c98dbc97d69eaae7e81ab50421"><td class="mdescLeft">&#160;</td><td class="mdescLeft">&#160;</td><td class="mdescRight">BUS port input signals [stb,we,adr,dat,tag]. <br /></td></tr>
<tr class="memitem:aa8e747c848c25f68efaf90724f012c86"><td class="memItemLeft" align="right" valign="top"><a id="aa8e747c848c25f68efaf90724f012c86" name="aa8e747c848c25f68efaf90724f012c86"></a>
<a class="el" href="class_h_b_r_i_d_g_e___s_m_o_d_u_l_e.html#aa8e747c848c25f68efaf90724f012c86">sys_bus_o</a> &#160;</td><td class="memItemLeft" align="right" valign="top"> <b><b><span class="keywordflow">out</span><span class="vhdlchar"> </span></b></b>&#160;</td><td class="memItemRight" valign="bottom"> <b><span class="vhdlchar">sbus_out</span><span class="vhdlchar"> </span></b></td></tr>
<tr class="memdesc:aa8e747c848c25f68efaf90724f012c86"><td class="mdescLeft">&#160;</td><td class="mdescLeft">&#160;</td><td class="mdescRight">BUS port output signals[dat,tag,mux]. <br /></td></tr>
<tr class="memitem:a91528c42fa917db9d2cae7ee375fc02d"><td class="memItemLeft" align="right" valign="top"><a id="a91528c42fa917db9d2cae7ee375fc02d" name="a91528c42fa917db9d2cae7ee375fc02d"></a>
<a class="el" href="class_h_b_r_i_d_g_e___s_m_o_d_u_l_e.html#a91528c42fa917db9d2cae7ee375fc02d">p_hb_enb</a> &#160;</td><td class="memItemLeft" align="right" valign="top"> <b><b><span class="keywordflow">out</span><span class="vhdlchar"> </span></b></b>&#160;</td><td class="memItemRight" valign="bottom"> <b><span class="vhdlchar">io_o</span><span class="vhdlchar"> </span></b></td></tr>
<tr class="memdesc:a91528c42fa917db9d2cae7ee375fc02d"><td class="mdescLeft">&#160;</td><td class="mdescLeft">&#160;</td><td class="mdescRight">H-Bridge enable signal. <br /></td></tr>
<tr class="memitem:af07a23078208287f30659898eff9ed8b"><td class="memItemLeft" align="right" valign="top"><a id="af07a23078208287f30659898eff9ed8b" name="af07a23078208287f30659898eff9ed8b"></a>
<a class="el" href="class_h_b_r_i_d_g_e___s_m_o_d_u_l_e.html#af07a23078208287f30659898eff9ed8b">p_hb_out_1</a> &#160;</td><td class="memItemLeft" align="right" valign="top"> <b><b><span class="keywordflow">out</span><span class="vhdlchar"> </span></b></b>&#160;</td><td class="memItemRight" valign="bottom"> <b><span class="vhdlchar">io_o</span><span class="vhdlchar"> </span></b></td></tr>
<tr class="memdesc:af07a23078208287f30659898eff9ed8b"><td class="mdescLeft">&#160;</td><td class="mdescLeft">&#160;</td><td class="mdescRight">H-Bridge Output 1 signal. <br /></td></tr>
<tr class="memitem:a4eb54ba4b0431d039f1c9709f1064ac2"><td class="memItemLeft" align="right" valign="top"><a id="a4eb54ba4b0431d039f1c9709f1064ac2" name="a4eb54ba4b0431d039f1c9709f1064ac2"></a>
<a class="el" href="class_h_b_r_i_d_g_e___s_m_o_d_u_l_e.html#a4eb54ba4b0431d039f1c9709f1064ac2">p_hb_out_2</a> &#160;</td><td class="memItemLeft" align="right" valign="top"> <b><b><span class="keywordflow">out</span><span class="vhdlchar"> </span></b></b>&#160;</td><td class="memItemRight" valign="bottom"> <b><span class="vhdlchar">io_o</span><span class="vhdlchar"> </span></b></td></tr>
<tr class="memdesc:a4eb54ba4b0431d039f1c9709f1064ac2"><td class="mdescLeft">&#160;</td><td class="mdescLeft">&#160;</td><td class="mdescRight">H-Bridge Output 2 signal. <br /></td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >H-Bridge driver module to contorl a DC Motor. </p>
<p >The H-Bridge drives is a module originally designed to drive the L293DD H-Bridge and control a two wire DC motor. Therefore the module has been designed to control both the direction and speed of movement. The module has two registers, the first selects the direction of the motor (enabling the Out1 or Out2 signals), and the second controls the pulse width modulated PWM signal that controls the motor speed (ENB signal).</p>
<p >The direction register uses the first two bits to enable the Out1 and Out2 singals. The Bit0 selects the Out2 signal and Bit1 the Out1. If both bit are be enabled simultaneously the module disables the ENB signal to prevent damage to the H-Bridge.</p>
<p >To control the movement speed the ENB signal is capable of generating a PWM signal based on a 8-bit value stored in the second register. The PWM cycle, defined by the system clock multiplied by the generic parameter g_clk_factor, is divided into 255 segments. The ENB signal is asserted for the signal segments smaller or equal to the provided pwm value.</p>
<p ><em>g_clk_factor = f_clk/(f_pwm*255)</em></p>
<h3><a class="anchor" id="autotoc_md2"></a>
Registers:</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadRight">g_address   </th><th class="markdownTableHeadCenter">Bit 7   </th><th class="markdownTableHeadCenter">Bit 6   </th><th class="markdownTableHeadCenter">Bit 5   </th><th class="markdownTableHeadCenter">Bit 4   </th><th class="markdownTableHeadCenter">Bit 3   </th><th class="markdownTableHeadCenter">Bit 2   </th><th class="markdownTableHeadCenter">Bit 1   </th><th class="markdownTableHeadCenter">Bit 0    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyRight">+0   </td><td class="markdownTableBodyCenter"></td><td class="markdownTableBodyCenter"></td><td class="markdownTableBodyCenter"></td><td class="markdownTableBodyCenter"></td><td class="markdownTableBodyCenter"></td><td class="markdownTableBodyCenter"></td><td class="markdownTableBodyCenter">Out 1   </td><td class="markdownTableBodyCenter">Out 2    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyRight">+1   </td><td class="markdownTableBodyCenter" colspan="8">PWM[7:0]   </td></tr>
</table>
<p ><em><b>Latency: 3cyc</b></em> </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_h_b_r_i_d_g_e___s_m_o_d_u_l_e.html">HBRIDGE_SMODULE</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
